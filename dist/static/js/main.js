"use strict";document.addEventListener("DOMContentLoaded",function(){var r,e,t,o,a,n,l,c,s,u,i,p,d,_,y,m,v;function h(){document.querySelectorAll(".second-list__card-slider").length&&new Swiper(".second-list__card-slider",{lazy:!0,spaceBetween:20,loop:!0,pagination:{el:".second-list__card-pagination",clickable:!0}})}function f(){new Swiper(".process-slider",{navigation:{nextEl:".process-slider__nav-next",prevEl:".process-slider__nav-prev"}})}jQuery('a[href^="tel:"]').attr("href",function(e,t){return t.replace(/\(/g,"").replace(/\)/g,"").replace(/\ /g,"").replace(/\-/g,"")}),lozad().observe(),document.querySelectorAll(".calc-form").length&&(r=function(){c.innerText=(+o.value-+a.value).toLocaleString("ru-RU"),a.max=o.value,n.max=o.value,+c.innerText.replace(/\s+/g,"")<0&&(a.value=5e5,n.value=5e5),i=+u.innerText/12/100,p=12*l.value,p=i*Math.pow(1+i,p)/(Math.pow(1+i,p)-1),s.innerText=Math.round(+c.innerText.replace(/\s+/g,"")*p).toLocaleString("ru-RU")},e=document.querySelectorAll(".calc-form__elem-range"),t=document.querySelectorAll(".calc-form__elem-field"),o=document.querySelector("#property-value"),document.querySelector("#property-value-range"),a=document.querySelector("#initial-payment"),n=document.querySelector("#initial-payment-range"),l=document.querySelector("#mortgage-payment"),c=document.querySelector("#credit-amount"),s=document.querySelector("#monthly-payment"),u=document.querySelector("#interest-rate"),r(),e.forEach(function(t){t.addEventListener("input",function(e){t.previousSibling.value=t.value,r()})}),t.forEach(function(t){t.addEventListener("input",function(e){t.nextSibling.value=t.value})})),document.querySelectorAll(".stages").length&&function(){for(var r=document.querySelectorAll(".stages-tab__btn"),o=document.querySelectorAll(".stages-content__block"),e=function(t){r[t].addEventListener("click",function(){for(var e=0;e<o.length;e++)"block"==window.getComputedStyle(o[e]).display&&(o[e].style.display="none");o[t].style.display="block",function(){for(var e=0;e<r.length;e++)r[e].classList.remove("stages-tab__btn_active")}(),r[t].classList.add("stages-tab__btn_active")})},t=0;t<r.length;t++)e(t)}(),Inputmask({mask:"+7 (999) 999-99-99"}).mask('input[type="tel"]'),document.querySelectorAll(".header-burger").length&&document.querySelector(".header-burger").addEventListener("click",function(){document.querySelector(".header").classList.toggle("header_active"),document.querySelector(".header-burger").classList.toggle("header-burger_active")}),document.querySelectorAll(".slider-main").length&&(_=new Swiper(".slider-list",{lazy:!0,spaceBetween:20,slidesPerView:5,freeMode:!0,loopedSlides:5,watchSlidesVisibility:!0,watchSlidesProgress:!0}),new Swiper(".slider-main",{lazy:{loadPrevNext:!0},spaceBetween:10,loopedSlides:5,navigation:{nextEl:".slider-main__nav-next",prevEl:".slider-main__nav-prev"},thumbs:{swiper:_},pagination:{el:".slider-main__pagination",type:"fraction"}})),document.querySelectorAll(".btn-show").length&&document.querySelector(".btn-show").addEventListener("click",function(){document.querySelector(".btn-show__link").classList.add("btn-show__link_active")}),jQuery(".cta-popup-overlay").on("click",function(){jQuery(".cta-popup").removeClass("cta-popup_active"),jQuery("body").css("overflow",""),setTimeout(function(){jQuery(".cta-popup-wrap").removeClass("cta-popup-wrap_active"),jQuery(".cta-popup-overlay").removeClass("cta-popup-overlay_active")},300)}),jQuery(".btn-cta").on("click",function(){setTimeout(function(){jQuery(".cta-popup__wrap .cta-popup").addClass("cta-popup_active")},100),jQuery(".cta-popup__wrap").addClass("cta-popup-wrap_active"),jQuery(".cta-popup__wrap .cta-popup-overlay").addClass("cta-popup-overlay_active"),jQuery("body").css("overflow","hidden")}),jQuery(".zhk-needfull__more").on("click",function(){setTimeout(function(){jQuery(".zhk-needfull__more-popup .cta-popup").addClass("cta-popup_active")},100),jQuery(".zhk-needfull__more-popup").addClass("cta-popup-wrap_active"),jQuery(".zhk-needfull__more-popup .cta-popup-overlay").addClass("cta-popup-overlay_active"),jQuery("body").css("overflow","hidden")}),jQuery(".apartment-card__more").on("click",function(){setTimeout(function(){jQuery(".apartment-card__more-popup .cta-popup").addClass("cta-popup_active")},100),jQuery(".apartment-card__more-popup").addClass("cta-popup-wrap_active"),jQuery(".apartment-card__more-popup .cta-popup-overlay").addClass("cta-popup-overlay_active"),jQuery("body").css("overflow","hidden")}),jQuery(".zhk-how__btn").on("click",function(){setTimeout(function(){jQuery(".zhk-how__btn-popup .cta-popup").addClass("cta-popup_active")},100),jQuery(".zhk-how__btn-popup").addClass("cta-popup-wrap_active"),jQuery(".zhk-how__btn-popup .cta-popup-overlay").addClass("cta-popup-overlay_active"),jQuery("body").css("overflow","hidden")}),jQuery(".zhk-process__slider-btn").on("click",function(){setTimeout(function(){jQuery(".zhk-process__slider-btn-wrap .cta-popup").addClass("cta-popup_active")},100),jQuery(".zhk-process__slider-btn-wrap").addClass("cta-popup-wrap_active"),jQuery(".zhk-process__slider-btn-wrap .cta-popup-overlay").addClass("cta-popup-overlay_active"),jQuery("body").css("overflow","hidden")}),h(),document.querySelectorAll(".zhk-needfull__contents").length&&new Swiper(".zhk-needfull__contents",{autoHeight:!0,spaceBetween:20,navigation:{nextEl:".zhk-needfull__tab-nearby",prevEl:".zhk-needfull__tab-territory"}}),document.querySelectorAll(".zhk-presentation__slider").length&&new Swiper(".zhk-presentation__slider",{navigation:{nextEl:".zhk-presentation__nav-next",prevEl:".zhk-presentation__nav-prev"}}),jQuery(".zhk-apartments__filter").on("click",function(){jQuery(".zhk-apartments__filter").removeClass("zhk-apartments__filter_active"),jQuery(this).addClass("zhk-apartments__filter_active")}),document.querySelectorAll(".apartment-card").length&&(d=document.querySelectorAll(".apartment-card"),document.querySelector(".zhk-apartments__filters").addEventListener("click",function(e){if("LI"!==e.target.tagName)return!1;var t=e.target.dataset.f;d.forEach(function(e){e.classList.remove("apartment-card_hide"),e.classList.contains(t)||"all"===t||e.classList.add("apartment-card_hide")})})),document.querySelectorAll(".zhk-select__form-floor").length&&(_=document.querySelector(".zhk-select__count-floor").textContent,y=document.querySelector(".zhk-select__form-floor"),noUiSlider.create(y,{start:[1,3],connect:!0,step:1,range:{min:1,max:+_}}),(m=document.createElement("div")).classList.add("noUi-handle-lower-num"),(v=document.createElement("div")).classList.add("noUi-handle-upper-triangle"),setTimeout(function(){document.querySelector(".noUi-handle-lower").prepend(m),document.querySelector(".noUi-handle-upper").prepend(v);var r=[document.querySelector(".noUi-handle-lower-num"),document.querySelector(".noUi-handle-upper-num")];y.noUiSlider.on("update",function(e,t){r[t].innerHTML=Math.round(e[t])})},100)),document.querySelectorAll(".zhk-developer__files-more").length&&document.querySelector(".zhk-developer__files-more").addEventListener("click",function(){document.querySelectorAll(".zhk-developer__files-list li").forEach(function(e){e.style.maxHeight="400px",e.style.opacity="1"}),document.querySelector(".zhk-developer__files-more").style.display="none"}),jQuery(".zhk-process__slider-tab:eq(0)").addClass("zhk-process__slider-tab_active"),jQuery(".zhk-process__slider-content:eq(0)").addClass("zhk-process__slider-content_active"),f(),jQuery(".zhk-process__slider-tab").on("click",function(){jQuery(".zhk-process__slider-tab").removeClass("zhk-process__slider-tab_active"),jQuery(this).addClass("zhk-process__slider-tab_active"),jQuery(".zhk-process__slider-content").removeClass("zhk-process__slider-content_active"),jQuery(".zhk-process__slider-content:eq("+jQuery(this).index()+")").addClass("zhk-process__slider-content_active"),f()}),jQuery(window).scroll(function(){jQuery(".poligon_left").css({top:+jQuery(this).scrollTop()/5+"px"}),jQuery(".poligon_right").css({top:-jQuery(this).scrollTop()/5+"px"})}),jQuery(document).ajaxSuccess(function(e,t,r){h()})});